import{r as a,R as y}from"./index-CgfFrydU.js";import{P as m}from"./index-Co38GRlK.js";import{c as f}from"./colors-DZBBGjh9.js";const b="storybook-media-toolkit.uploaded-images",v=a.createContext({images:{},setImage:()=>{},removeImage:()=>{},clearImages:()=>{}}),w=({children:t,images:l,onImagesChange:o})=>{const c=a.useRef(!1),[d,u]=a.useState({}),i=typeof o=="function",r=i?l??{}:d??{},s=a.useCallback(e=>{i?o(e):u(e)},[i,o]);a.useEffect(()=>{if(!(typeof window>"u")&&!c.current){c.current=!0;try{const e=window.localStorage.getItem(b);if(!e)return;const n=JSON.parse(e);n&&typeof n=="object"&&s(n)}catch(e){console.warn("Failed to read uploaded images from localStorage",e)}}},[s]),a.useEffect(()=>{if(!(typeof window>"u")&&c.current)try{window.localStorage.setItem(b,JSON.stringify(r??{}))}catch(e){console.warn("Failed to persist uploaded images to localStorage",e)}},[r]);const p=a.useCallback((e,n)=>{e&&s({...r??{},[e]:n})},[s,r]),g=a.useCallback(e=>{if(!e||!r||!(e in r))return;const n={...r};delete n[e],s(n)},[s,r]),I=a.useCallback(()=>{s({})},[s]),h=a.useMemo(()=>({images:r??{},setImage:p,removeImage:g,clearImages:I}),[r,p,g,I]);return y.createElement(v.Provider,{value:h},t)};w.propTypes={children:m.node,images:m.object,onImagesChange:m.func};const E=(t,l=null)=>{var i;const o=a.useContext(v);if(!o)throw new Error("useUploadedImage must be used within an UploadedImagesProvider");const c=t?(i=o.images)==null?void 0:i[t]:void 0,d=a.useCallback(r=>{if(t){if(r==null){o.removeImage(t);return}o.setImage(t,r)}},[o,t]),u=a.useCallback(()=>{t&&o.removeImage(t)},[o,t]);return[c??l??null,d,u]};w.__docgenInfo={description:"",methods:[],displayName:"UploadedImagesProvider",props:{children:{description:"",type:{name:"node"},required:!1},images:{description:"",type:{name:"object"},required:!1},onImagesChange:{description:"",type:{name:"func"},required:!1}}};const H={logoUrl:"https://www.hhs.gov/sites/default/files/hhs-symbol-2022.png",fonts:{primary:'"Source Sans Pro Web", "Helvetica Neue", Helvetica, Arial, sans-serif',secondary:'"Arial Black", "Helvetica Black", Helvetica, Arial, sans-serif',tertiary:'"Segoe UI", "Helvetica Neue", Helvetica, Arial, sans-serif'},colors:{primary:f.brand.primary[500],secondary:f.brand.secondary[500],accent:f.status.info}};export{w as U,H as b,E as u};
